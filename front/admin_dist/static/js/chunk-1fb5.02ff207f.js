(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1fb5"],{qB7j:function(e,t,s){"use strict";s.r(t);var a=s("bS4n"),r=s.n(a),n=s("w7YM"),u={username:"",nickName:"",password:""},i=function(e,t,s){t.length<6?s(new Error("密码不能小于6位")):s()},o={data:function(){return{user:u,saveBtnDisabled:!1,validateRules:{username:[{required:!0,trigger:"blur",message:"用户名必须输入"}],password:[{required:!0,trigger:"blur",validator:i}]}}},watch:{$route:function(e,t){console.log("路由变化......"),console.log(e),console.log(t),this.init()}},created:function(){this.init()},methods:{init:function(){if(this.$route.params&&this.$route.params.id){var e=this.$route.params.id;this.fetchDataById(e)}else this.user=r()({},u)},saveOrUpdate:function(){var e=this;this.$refs.user.validate(function(t){t&&(e.saveBtnDisabled=!0,e.user.id?e.updateData():e.saveData())})},saveData:function(){var e=this;n.a.save(this.user).then(function(t){t.success&&(e.$message({type:"success",message:t.message}),e.$router.push({path:"/acl/user/list"}))})},updateData:function(){var e=this;n.a.updateById(this.user).then(function(t){t.success&&(e.$message({type:"success",message:t.message}),e.$router.push({path:"/acl/user/list"}))})},fetchDataById:function(e){var t=this;n.a.getById(e).then(function(e){t.user=e.data.user})}}},l=s("ZrdR"),c=Object(l.a)(o,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-container"},[s("el-form",{ref:"user",attrs:{model:e.user,rules:e.validateRules,"label-width":"120px"}},[s("el-form-item",{attrs:{label:"用户名",prop:"username"}},[s("el-input",{model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"用户昵称"}},[s("el-input",{model:{value:e.user.nickName,callback:function(t){e.$set(e.user,"nickName",t)},expression:"user.nickName"}})],1),e._v(" "),e.user.id?e._e():s("el-form-item",{attrs:{label:"用户密码",prop:"password"}},[s("el-input",{model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{disabled:e.saveBtnDisabled,type:"primary"},on:{click:e.saveOrUpdate}},[e._v("保存")])],1)],1)],1)},[],!1,null,null,null);c.options.__file="form.vue";t.default=c.exports},w7YM:function(e,t,s){"use strict";var a=s("t3Un"),r="/admin/rabc/user";t.a={getPageList:function(e,t,s){return Object(a.a)({url:r+"/"+e+"/"+t,method:"get",params:s})},getById:function(e){return Object(a.a)({url:r+"/"+e,method:"get"})},save:function(e){return Object(a.a)({url:r+"/save",method:"post",data:e})},updateById:function(e){return Object(a.a)({url:r+"/update",method:"put",data:e})},getAssign:function(e){return Object(a.a)({url:r+"/toAssign/"+e,method:"get"})},saveAssign:function(e,t){return Object(a.a)({url:r+"/doAssign",method:"post",params:{userId:e,roleId:t}})},removeById:function(e){return Object(a.a)({url:r+"/remove/"+e,method:"delete"})},removeRows:function(e){return Object(a.a)({url:r+"/batchRemove",method:"delete",data:e})}}}}]);