(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-47b9"],{"5Axt":function(e,n,t){"use strict";var a=t("t3Un");n.a={pageBannerList:function(e,n){return Object(a.a)({url:"/educms/adminBanner/pageBanner/"+e+"/"+n,method:"get"})},removeBanner:function(e){return Object(a.a)({url:"/educms/adminBanner/"+e,method:"delete"})},saveBanner:function(e){return Object(a.a)({url:"/educms/adminBanner",method:"post",data:e})},getBannerById:function(e){return Object(a.a)({url:"/educms/adminBanner/"+e,method:"get"})},updateBanner:function(e,n){return Object(a.a)({url:"/educms/adminBanner/"+e,method:"put",data:n})}}},j6ef:function(e,n,t){"use strict";t.r(n);var a=t("5Axt"),r={data:function(){return{crmBanner:{title:"",linkUrl:"/",sort:0,imageUrl:""},BASE_API:"https://easy-mock.com/mock/5950a2419adc231f356a6636/vue-admin",saveBtnDisabled:!1}},created:function(){this.init()},watch:{$route:function(e,n){this.init()}},methods:{init:function(){if(this.$route.params&&this.$route.params.id){var e=this.$route.params.id;this.getInfo(e)}else this.crmBanner={linkUrl:"/",sort:0}},uploadSuccess:function(e){this.crmBanner.imageUrl=e.data.url},beforeUpload:function(e){var n=e.size/1024/1024<5;return n||this.$message.error("上传头像图片大小不能超过 5MB!"),n},cancelUpload:function(){this.crmBanner.imageUrl=""},handleUploadExceed:function(){this.$message.warning("想要重新上传视频，请先删除已上传的视频")},saveOrUpdate:function(){this.crmBanner.id?this.updateBanner():this.saveBanner()},saveBanner:function(){var e=this;a.a.saveBanner(this.crmBanner).then(function(n){e.$message.success(n.message),e.$router.push({path:"/front/banner/list"})})},updateBanner:function(){var e=this;a.a.updateBanner(this.crmBanner.id,this.crmBanner).then(function(n){e.$message.success(n.message),e.$router.push({path:"/front/banner/list"})})},getInfo:function(e){var n=this;a.a.getBannerById(e).then(function(e){n.crmBanner=e.data.banner})}}},s=t("ZrdR"),i=Object(s.a)(r,function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"app-container"},[t("h3",[e._v("轮播图表单")]),e._v(" "),t("el-form",{attrs:{"label-width":"120px"}},[t("el-form-item",{attrs:{label:"标题"}},[t("el-input",{attrs:{placeholder:"请填写轮播图标题"},model:{value:e.crmBanner.title,callback:function(n){e.$set(e.crmBanner,"title",n)},expression:"crmBanner.title"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"轮播图"}},[e.crmBanner.id?t("el-upload",{staticClass:"avatar-uploader",attrs:{"on-success":e.uploadSuccess,"before-upload":e.beforeUpload,"on-remove":e.cancelUpload,"on-exceed":e.handleUploadExceed,"show-file-list":!1,action:e.BASE_API+"/eduoss/fileoss",limit:1}},[t("img",{attrs:{src:e.crmBanner.imageUrl}})]):t("el-upload",{staticClass:"upload-demo",attrs:{"on-success":e.uploadSuccess,"before-upload":e.beforeUpload,"on-remove":e.cancelUpload,drag:"",action:e.BASE_API+"/eduoss/fileoss",limit:1}},[t("i",{staticClass:"el-icon-upload"}),e._v(" "),t("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),t("em",[e._v("点击上传")])]),e._v(" "),t("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("\n          只能上传jpg/png文件，且不超过5MB\n        ")])])],1),e._v(" "),t("el-form-item",{attrs:{label:"链接地址"}},[t("el-input",{attrs:{"controls-position":"right",placeholder:"请填写点击轮播图跳转的地址"},model:{value:e.crmBanner.linkUrl,callback:function(n){e.$set(e.crmBanner,"linkUrl",n)},expression:"crmBanner.linkUrl"}})],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{disabled:e.saveBtnDisabled,type:"primary"},on:{click:e.saveOrUpdate}},[e._v("保存")])],1)],1)],1)},[],!1,null,null,null);i.options.__file="add.vue";n.default=i.exports}}]);