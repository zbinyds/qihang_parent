(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1591"],{JXgE:function(e,t,i){var n=i("zpmP"),s=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return s.stringify.apply(s,arguments)}},omC7:function(e,t,i){e.exports={default:i("JXgE"),__esModule:!0}},ozu4:function(e,t,i){"use strict";i.r(t);var n=i("omC7"),s=i.n(n),a=i("w7YM"),c={data:function(){return{checkAll:!1,checkedCities:[],cities:[],isIndeterminate:!0,userId:"",saveBtnDisabled:!1}},created:function(){this.init()},methods:{init:function(){this.$route.params&&this.$route.params.id&&(this.userId=this.$route.params.id,this.getById(this.userId))},getById:function(e){var t=this;a.a.getAssign(e).then(function(e){var i=e.data.assignRoles;t.checkedCities=t.getJsonToList(i,"id"),t.cities=e.data.allRolesList})},getJsonToList:function(e,t){for(var i=JSON.parse(s()(e)),n=[],a=0;a<i.length;a++)n.push(i[a][t]);return n},handleCheckAllChange:function(e){this.checkedCities=e?this.cities:[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(e){var t=e.length;this.checkAll=t===this.cities.length,this.isIndeterminate=t>0&&t<this.cities.length},update:function(){var e=this;this.saveBtnDisabled=!0;var t=this.checkedCities.join(",");console.log(t),a.a.saveAssign(this.userId,t).then(function(t){t.success&&(e.$message({type:"success",message:"保存成功"}),e.$router.push({path:"/acl/user/list"}))})}}},r=i("ZrdR"),o=Object(r.a)(c,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),e._v(" "),i("div",{staticStyle:{margin:"15px 0"}}),e._v(" "),i("el-checkbox-group",{on:{change:e.handleCheckedCitiesChange},model:{value:e.checkedCities,callback:function(t){e.checkedCities=t},expression:"checkedCities"}},e._l(e.cities,function(t){return i("el-checkbox",{key:t.id,attrs:{label:t.id}},[e._v(e._s(t.roleName))])})),e._v(" "),i("el-button",{attrs:{disabled:e.saveBtnDisabled,type:"primary"},on:{click:e.update}},[e._v("保存")])],1)},[],!1,null,null,null);o.options.__file="roleForm.vue";t.default=o.exports},w7YM:function(e,t,i){"use strict";var n=i("t3Un"),s="/admin/rabc/user";t.a={getPageList:function(e,t,i){return Object(n.a)({url:s+"/"+e+"/"+t,method:"get",params:i})},getById:function(e){return Object(n.a)({url:s+"/"+e,method:"get"})},save:function(e){return Object(n.a)({url:s+"/save",method:"post",data:e})},updateById:function(e){return Object(n.a)({url:s+"/update",method:"put",data:e})},getAssign:function(e){return Object(n.a)({url:s+"/toAssign/"+e,method:"get"})},saveAssign:function(e,t){return Object(n.a)({url:s+"/doAssign",method:"post",params:{userId:e,roleId:t}})},removeById:function(e){return Object(n.a)({url:s+"/remove/"+e,method:"delete"})},removeRows:function(e){return Object(n.a)({url:s+"/batchRemove",method:"delete",data:e})}}}}]);