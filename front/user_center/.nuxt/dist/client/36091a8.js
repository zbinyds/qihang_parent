(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{375:function(t,e,c){"use strict";var n=c(95);e.a={createOrdercourseId:function(t){return Object(n.a)({url:"/eduOrder/order/createOrder/".concat(t),method:"post"})},getOrderDetail:function(t){return Object(n.a)({url:"/eduOrder/order/getOrderDetail/".concat(t),method:"get"})},createCode:function(t){return Object(n.a)({url:"/eduOrder/pay/createNative/".concat(t),method:"post"})},queryPayStatus:function(t){return Object(n.a)({url:"/eduOrder/pay/queryOrderStatus/".concat(t),method:"post"})}}},376:function(t,e,c){"use strict";var n=c(95);e.a={coursePageCondition:function(t,e,c){return Object(n.a)({url:"/eduService/courseFront/coursePageCondition/".concat(t,"/").concat(e),method:"post",data:c})},getAllSubject:function(){return Object(n.a)({url:"/eduService/subject/getSubjectList",method:"get"})},getCourseInfo:function(t){return Object(n.a)({url:"/eduService/courseFront/getCourseDetail/".concat(t),method:"get"})}}},398:function(t,e,c){t.exports=c.p+"img/avatar-boy.b88b103.gif"},401:function(t,e,c){"use strict";c.r(e);c(42);var n=[function(){var t=this._self._c;return t("h6",{staticClass:"c-i-content c-infor-title"},[t("span",[this._v("课程介绍")])])},function(){var t=this._self._c;return t("h6",{staticClass:"c-g-content c-infor-title"},[t("span",[this._v("课程大纲")])])},function(){var t=this._self._c;return t("aside",{staticClass:"noter-pic"},[t("img",{staticClass:"picImg",attrs:{width:"50",height:"50",src:c(398)}})])},function(){var t=this._self._c;return t("section",{staticClass:"c-infor-tabTitle c-tab-title"},[t("a",{attrs:{title:"主讲讲师"}},[this._v("主讲讲师")])])}],o=c(376),r=c(95),l=function(t,e){return Object(r.a)({url:"/eduService/collect",method:"post",data:{courseId:t,memberId:e}})},m=function(t,e){return Object(r.a)({url:"/eduService/collect/".concat(t,"/").concat(e),methods:"get"})},d=function(t,e,c){return Object(r.a)({url:"/eduService/comment/getCommentList/".concat(t,"/").concat(e,"/").concat(c),method:"get"})},v=function(t){return Object(r.a)({url:"/eduService/comment/saveComment",method:"post",data:t})},f=c(112),h=c(375),_=c(40),C=c.n(_),I={data:function(){return{courseId:"",data:{},length:0,flag:0,commentInfo:{},comment:{},collectStatus:!1}},created:function(){this.$route.params.id&&(this.courseId=this.$route.params.id,this.getCourseDetail(),this.getCommentList(),this.initData())},methods:{initData:function(){var t=this;C.a.get("token")&&f.a.getMemberInfo().then((function(e){t.loginInfo=e.data.data.UserInfo,t.isCollect()}))},createOrders:function(){var t=this;void 0!==this.loginInfo?this.$confirm("还未拥有此课程, 立即购买?","起航教育",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){h.a.createOrdercourseId(t.courseId).then((function(e){t.$router.push({path:"/order/".concat(e.data.data.orderNo)})}))})):(this.$message.error("请登录后购买课程！"),this.$router.push({path:"/login"}))},getCommentList:function(){var t=this;d(this.courseId,1,10).then((function(e){t.commentInfo=e.data.data}))},addComment:function(){var t=this;this.loginInfo?(this.comment.memberId=this.loginInfo.id,this.comment.nickname=this.loginInfo.nickname,this.comment.avatar=this.loginInfo.avatar,this.comment.courseId=this.courseId,this.comment.teacherId=this.data.teacherId,v(this.comment).then((function(e){"20000"===e.data.code?(t.$message.success(e.data.message),t.comment.content="",t.getCommentList()):t.$message.error(e.data.message)}))):(this.$message.error("请登录后评论！"),this.$router.push({path:"/login"}))},gotoPage:function(t){var e=this;t>0&&t<=this.commentInfo.pages&&t!==this.commentInfo.current&&d(this.courseId,t,10).then((function(t){e.commentInfo=t.data.data}))},getCourseDetail:function(){var t=this;o.a.getCourseInfo(this.courseId).then((function(e){t.data=e.data.data,t.data.length=e.data.data.list.length}))},isCollect:function(){var t=this;m(this.courseId,this.loginInfo.id).then((function(e){"课程已收藏！"===e.data.message&&(t.collectStatus=!0)}))},collect:function(){var t=this;!this.collectStatus&&this.loginInfo&&l(this.courseId,this.loginInfo.id).then((function(e){t.collectStatus=!0,t.$message.success(e.data.message)}))}}},w=c(24),component=Object(w.a)(I,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"bg-fa of",attrs:{id:"aCoursesList"}},[e("section",{staticClass:"container"},[e("section",{staticClass:"path-wrap txtOf hLh30"},[e("a",{staticClass:"c-999 fsize14",attrs:{href:"/",title:""}},[t._v("首页")]),t._v("\n      \\\n      "),e("a",{staticClass:"c-999 fsize14",attrs:{href:"/course",title:""}},[t._v("课程列表")]),t._v("\n      \\\n      "),e("span",{staticClass:"c-333 fsize14"},[t._v(t._s(t.data.title))])]),t._v(" "),e("div",[e("article",{staticClass:"c-v-pic-wrap",staticStyle:{height:"357px"}},[e("section",{staticClass:"p-h-video-box",attrs:{id:"videoPlay"}},[e("img",{staticClass:"dis c-v-pic",attrs:{src:t.data.cover,alt:t.data.title}})])]),t._v(" "),e("aside",{staticClass:"c-attr-wrap",staticStyle:{height:"357px",width:"520px"}},[e("section",{staticClass:"ml20 mr15"},[e("h2",{staticClass:"hLh30 txtOf mt15"},[e("span",{staticClass:"c-fff fsize24"},[t._v(t._s(t.data.title))])]),t._v(" "),e("section",{staticClass:"c-attr-jg"},[e("span",{staticClass:"c-fff"},[t._v("价格：")]),t._v(" "),e("b",{staticClass:"c-yellow",staticStyle:{"font-size":"24px"}},[t._v("￥"+t._s(t.data.price))])]),t._v(" "),e("section",{staticClass:"c-attr-mt c-attr-undis"},[e("span",{staticClass:"c-fff fsize14"},[t._v("主讲： "+t._s(t.data.name)+"   ")])]),t._v(" "),e("section",{staticClass:"c-attr-mt of"},[e("span",{staticClass:"ml10 vam"},[e("em",{staticClass:"icon18 scIcon"}),t._v(" "),e("a",{staticClass:"c-fff vam",attrs:{title:"点击收藏课程"},on:{click:function(e){return t.collect()}}},[t._v("\n                "+t._s(t.collectStatus?"已收藏":"收藏")+"\n              ")])])]),t._v(" "),e("section",{staticClass:"c-attr-mt"},[0===t.data.price?e("a",{staticClass:"comm-btn c-btn-3",attrs:{href:"#"}},[t._v("立即观看")]):t._e(),t._v(" "),e("a",{directives:[{name:"show",rawName:"v-show",value:0!==t.data.price&&!t.data.isAuth,expression:"data.price !== 0 && !data.isAuth"}],staticClass:"comm-btn c-btn-3",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.createOrders()}}},[t._v("立即购买")]),t._v(" "),e("a",{directives:[{name:"show",rawName:"v-show",value:t.data.isAuth&&0!==t.data.price,expression:"data.isAuth && data.price !== 0"}],staticClass:"comm-btn c-btn-3",attrs:{href:"#"}},[t._v("已购买")])])])]),t._v(" "),e("div",{staticClass:"clear"})]),t._v(" "),e("div",{staticClass:"mt20 c-infor-box"},[e("article",{staticClass:"fl col-7"},[e("section",{staticClass:"mr30"},[e("div",{staticClass:"i-box"},[e("div",[e("section",{staticClass:"c-infor-tabTitle c-tab-title",attrs:{id:"c-i-tabTitle"}},[e("a",{class:{current:0==t.flag},attrs:{name:"c-i",title:"课程详情",href:"javascript:void(0)"},on:{click:function(e){t.flag=0}}},[t._v("课程详情")]),t._v(" "),e("a",{class:{current:1==t.flag},attrs:{name:"c-i",title:"课程评价",href:"javascript:void(0)"},on:{click:function(e){t.flag=1}}},[t._v("课程评价")])])]),t._v(" "),e("article",{directives:[{name:"show",rawName:"v-show",value:0==t.flag,expression:"flag == 0"}],staticClass:"ml10 mr10 pt20",attrs:{hre:""}},[e("div",[t._m(0),t._v(" "),e("div",{staticClass:"course-txt-body-wrap"},[e("section",{staticClass:"course-txt-body"},[e("p",{domProps:{innerHTML:t._s(t.data.description)}},[t._v(t._s(t.data.description))])])])]),t._v(" "),e("div",{staticClass:"mt50"},[t._m(1),t._v(" "),0===t.data.length?e("section",{staticClass:"no-data-wrap"},[e("em",{staticClass:"icon30 no-data-ico"},[t._v(" ")]),t._v(" "),e("span",{staticClass:"c-666 fsize14 ml10 vam"},[t._v("暂时还没有课程大纲哦，小编正在努力整理中...")])]):t._e(),t._v(" "),e("section",{staticClass:"mt20"},[e("div",{staticClass:"lh-menu-wrap"},[e("menu",{staticClass:"lh-menu mt10 mr10",attrs:{id:"lh-menu"}},[e("ul",t._l(t.data.list,(function(c){return e("li",{key:c.id,staticClass:"lh-menu-stair"},[e("a",{staticClass:"current-1",attrs:{title:c.title,href:"javascript: void(0)"}},[e("em",{staticClass:"lh-menu-i-1 icon18 mr10"}),t._v(t._s(c.title)+"\n                          ")]),t._v(" "),e("ol",{staticClass:"lh-menu-ol",staticStyle:{display:"block"}},t._l(c.children,(function(video){return e("li",{key:video.id,staticClass:"lh-menu-second ml30"},[t.data.isAuth?e("a",{attrs:{href:"/player/"+video.videoSourceId,target:"_blank"}},[e("span",{staticClass:"fr"},[e("i",{directives:[{name:"show",rawName:"v-show",value:1===video.isFree,expression:"video.isFree === 1"}],staticClass:"free-icon vam mr10"},[t._v("免费")])]),t._v(" "),e("em",{staticClass:"lh-menu-i-2 icon16 mr5"},[t._v(" ")]),t._v(t._s(video.title)+"\n                              ")]):t._e()])})),0)])})),0)])])]),t._v(" "),e("section",{staticClass:"mt20"})])]),t._v(" "),e("article",{directives:[{name:"show",rawName:"v-show",value:1==t.flag,expression:"flag == 1"}],staticClass:"ml10 mr10 pt20"},[e("div",{staticClass:"mt0 commentHtml"},[e("div",[e("h6",{staticClass:"c-c-content c-infor-title",attrs:{id:"i-art-comment"}},[e("span",{staticClass:"commentTitle"},[t._v("课程评论 (共"+t._s(t.commentInfo.total)+"条评论)")])]),t._v(" "),e("section",{staticClass:"lh-bj-list pr mt20 replyhtml"},[e("ul",[e("li",{staticClass:"unBr"},[t._m(2),t._v(" "),e("div",{staticClass:"of"},[e("section",{staticClass:"n-reply-wrap"},[e("fieldset",[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment.content,expression:"comment.content"}],attrs:{id:"commentContent",name:"",placeholder:"输入您要评论的文字"},domProps:{value:t.comment.content},on:{input:function(e){e.target.composing||t.$set(t.comment,"content",e.target.value)}}})]),t._v(" "),e("p",{staticClass:"of mt5 tar pl10 pr10"},[e("span",{staticClass:"fl"},[e("tt",{staticClass:"c-red commentContentmeg",staticStyle:{display:"none"}})],1),t._v(" "),e("input",{staticClass:"lh-reply-btn",attrs:{type:"button",value:"回复"},on:{click:function(e){return t.addComment()}}})])])])])])]),t._v(" "),e("section",{},[e("section",{staticClass:"question-list lh-bj-list pr"},[e("ul",{staticClass:"pr10"},t._l(t.commentInfo.items,(function(c,n){return e("li",{key:n},[e("aside",{staticClass:"noter-pic"},[e("img",{staticClass:"picImg",attrs:{src:c.avatar,width:"50",height:"50"}})]),t._v(" "),e("div",{staticClass:"of"},[e("span",{staticClass:"fl"},[e("font",{staticClass:"fsize12 c-blue"},[t._v("\n                                "+t._s(c.nickname))]),t._v(" "),e("font",{staticClass:"fsize12 c-999 ml5"},[t._v("评论：")])],1)]),t._v(" "),e("div",{staticClass:"noter-txt mt5"},[e("p",[t._v(t._s(c.content))])]),t._v(" "),e("div",{staticClass:"of mt5"},[e("span",{staticClass:"fr"},[e("font",{staticClass:"fsize12 c-999 ml5"},[t._v(t._s(c.gmtCreate))])],1)])])})),0)])]),t._v(" "),e("div",{staticClass:"paging"},[e("a",{class:{undisable:!t.commentInfo.hasPrevious},attrs:{href:"#",title:"首页"},on:{click:function(e){return e.preventDefault(),t.gotoPage(1)}}},[t._v("首")]),t._v(" "),e("a",{class:{undisable:!t.commentInfo.hasPrevious},attrs:{href:"#",title:"前一页"},on:{click:function(e){return e.preventDefault(),t.gotoPage(t.commentInfo.current-1)}}},[t._v("<")]),t._v(" "),t._l(t.commentInfo.pages,(function(c){return e("a",{key:c,class:{current:t.commentInfo.current==c,undisable:t.commentInfo.current==c},attrs:{title:"第"+c+"页",href:"#"},on:{click:function(e){return e.preventDefault(),t.gotoPage(c)}}},[t._v(t._s(c))])})),t._v(" "),e("a",{class:{undisable:!t.commentInfo.hasNext},attrs:{href:"#",title:"后一页"},on:{click:function(e){return e.preventDefault(),t.gotoPage(t.commentInfo.current+1)}}},[t._v(">")]),t._v(" "),e("a",{class:{undisable:!t.commentInfo.hasNext},attrs:{href:"#",title:"末页"},on:{click:function(e){return e.preventDefault(),t.gotoPage(t.commentInfo.pages)}}},[t._v("末")]),t._v(" "),e("div",{staticClass:"clear"})],2)])])])])])]),t._v(" "),e("aside",{staticClass:"fl col-3"},[e("div",{staticClass:"i-box"},[e("div",[t._m(3),t._v(" "),e("section",{staticClass:"stud-act-list"},[e("ul",{staticStyle:{height:"auto"}},[e("li",[e("div",{staticClass:"u-face"},[e("a",{attrs:{href:"/teacher/"+t.data.teacherId,target:"_blank"}},[e("img",{attrs:{src:t.data.avatar,width:"50",height:"50",alt:""}})])]),t._v(" "),e("section",{staticClass:"hLh30 txtOf"},[e("a",{staticClass:"c-333 fsize16 fl",attrs:{href:"/teacher/"+t.data.teacherId,target:"_blank"}},[t._v(t._s(t.data.name))])]),t._v(" "),e("section",{staticClass:"hLh20 txtOf"},[e("span",{staticClass:"c-999"},[t._v(t._s(t.data.career))])])])])])])])]),t._v(" "),e("div",{staticClass:"clear"})])])])}),n,!1,null,null,null);e.default=component.exports}}]);